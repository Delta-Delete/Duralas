/* --- Reset local : on repart aux valeurs "UA" à l'intérieur du conteneur --- */
#codex-root, #codex-root * { all: revert; }

/* Facultatif : si le forum est très agressif, ajoute !important sur les bases */
#codex-root{
  --bg:#0e0d0d;
  --paper:#161515;
  --ink:#e9e3dc;
  --muted:#b9afa6;
  --accent:#8b0000;     /* pourpre sombre */
  --accent-2:#b21a1a;   /* pourpre clair */
  --rule:#3a2f2f;

  background: var(--bg) !important;
  color: var(--ink) !important;
  font-family: Georgia, "Times New Roman", serif !important;
  line-height: 1.6 !important;
}

#codex-root main{max-width:900px;margin:auto;padding:3rem 1.25rem}
#codex-root .codex{
  background: linear-gradient(180deg, rgba(139,0,0,0.07), transparent 120px), var(--paper) !important;
  box-shadow: 0 10px 30px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.03);
  border-radius:18px;
  padding:2.25rem 2rem;
}
#codex-root h1,#codex-root h2,#codex-root h3{line-height:1.25;margin:1.5rem 0 .75rem 0}
#codex-root h1{font-size:2.1rem;letter-spacing:.02em}
#codex-root h2{font-size:1.5rem;color:var(--muted)}
#codex-root h3{font-size:1.1rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
#codex-root hr{border:none;border-top:1px solid var(--rule);margin:1.75rem 0}
#codex-root .toc{
  border:1px solid var(--rule);
  border-left:4px solid var(--accent);
  padding:1rem 1.25rem;
  margin-bottom:2rem;
  background:rgba(139,0,0,.05);
}
#codex-root .toc a{color:var(--ink);text-decoration:none}
#codex-root .toc a:hover{text-decoration:underline;color:var(--muted)}
#codex-root .lede{font-style:italic;color:var(--muted)}
#codex-root .redrule{height:3px;background:linear-gradient(90deg,var(--accent-2),transparent);margin:1rem 0 1.5rem}
#codex-root .dropcap:first-letter{
  float:left; font-size:3.1rem; line-height:1; padding:.15rem .4rem .1rem 0; color:var(--accent-2); font-weight:700;
}
#codex-root .callout{
  border:1px solid var(--rule);
  background:rgba(178,26,26,.08);
  padding:1rem 1.25rem;
  border-left:4px solid var(--accent-2);
  margin:1rem 0 1.5rem;
}
#codex-root .note{
  border-left:4px solid #735b5b;background:rgba(255,255,255,.03);
  padding:.75rem 1rem;margin:1rem 0;font-size:.96rem;color:var(--muted)
}
#codex-root blockquote{margin:1rem 0 1.5rem;padding:0 1rem;border-left:3px solid var(--rule);color:var(--muted)}
#codex-root .redacted{letter-spacing:.15em}
#codex-root .section{margin:2.25rem 0}
#codex-root .subgrid{display:grid;grid-template-columns: 1fr; gap:.25rem}
#codex-root .subgrid .label{font-variant:small-caps;color:var(--muted)}
#codex-root ul,#codex-root ol{padding-left:1.2rem}
#codex-root code.k{background:#241f1f;color:#f3e8e2;padding:.1rem .35rem;border-radius:.25rem;border:1px solid var(--rule);font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace}
#codex-root .small{font-size:.95rem;color:var(--muted)}
#codex-root .divider{height:1px;background:var(--rule);margin:1.5rem 0}
#codex-root a.anchor{color:inherit;text-decoration:none}
